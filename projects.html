<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>معرض المشاريع | شركة الإخوة مومني</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            font-family: 'Cairo', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0d0d0d 100%);
            min-height: 100vh;
        }
        
        .gold-gradient {
            background: linear-gradient(135deg, #D4AF37 0%, #F4E4A6 25%, #D4AF37 50%, #C5A028 75%, #D4AF37 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gold-border {
            border: 2px solid transparent;
            background: linear-gradient(#1a1a1a, #1a1a1a) padding-box,
                        linear-gradient(135deg, #D4AF37, #F4E4A6, #D4AF37) border-box;
        }
        
        .gold-bg {
            background: linear-gradient(135deg, #D4AF37 0%, #F4E4A6 50%, #D4AF37 100%);
        }
        
        .btn-premium {
            background: linear-gradient(135deg, #1f1f1f 0%, #2a2a2a 100%);
            border: 1px solid rgba(212, 175, 55, 0.3);
            transition: all 0.3s ease;
        }
        
        .btn-premium:hover {
            border-color: rgba(212, 175, 55, 0.8);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
            transform: translateY(-2px);
        }
        
        .portfolio-item {
            transition: all 0.4s ease;
        }
        
        .portfolio-item:hover {
            transform: scale(1.02);
        }
        
        .portfolio-item img {
            transition: all 0.4s ease;
        }
        
        .portfolio-item:hover img {
            transform: scale(1.1);
        }
        
        .filter-btn {
            transition: all 0.3s ease;
        }
        
        .filter-btn.active {
            background: linear-gradient(135deg, #D4AF37 0%, #F4E4A6 50%, #D4AF37 100%);
            color: #000;
        }
        
        .glass-header {
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(20px);
        }
        
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(#D4AF37, #C5A028);
            border-radius: 3px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        .lightbox {
            backdrop-filter: blur(10px);
        }

        .category-count {
            background: rgba(212, 175, 55, 0.2);
            color: #D4AF37;
        }
    </style>
</head>
<body class="text-white">
    <!-- Fixed Header -->
    <header class="fixed top-0 left-0 right-0 z-50 glass-header border-b border-gray-800">
        <div class="max-w-4xl mx-auto px-4 py-3 flex items-center justify-between">
            <!-- Back Button -->
            <a href="index.html" class="flex items-center gap-2 text-gray-400 hover:text-yellow-400 transition-colors">
                <i class="fas fa-arrow-right"></i>
                <span class="text-sm font-semibold">العودة للبطاقة</span>
            </a>
            
            <!-- Logo -->
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full gold-border p-0.5">
                    <div class="w-full h-full rounded-full bg-black flex items-center justify-center">
                        <svg class="w-16 h-16" viewBox="0 0 100 100">
                            <image href="image/logo.png" width="100" height="100"/>
                        </svg>
                    </div>
                </div>
                <span class="text-sm font-bold gold-gradient hidden sm:block">الإخوة مومني</span>
            </div>
            
            <!-- Contact Button -->
            <a href="https://wa.me/+212620974552" class="flex items-center gap-2 text-green-400 hover:text-green-300 transition-colors">
                <i class="fab fa-whatsapp text-lg"></i>
                <span class="text-sm font-semibold hidden sm:block">تواصل معنا</span>
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-20 pb-10">
        <div class="max-w-4xl mx-auto px-4">
            
            <!-- Page Title -->
            <div class="text-center mb-8 pt-4">
                <h1 class="text-3xl font-extrabold gold-gradient mb-2">معرض المشاريع</h1>
                <p class="text-gray-400">استعرض جميع أعمالنا المنجزة في الألومنيوم والزجاج</p>
            </div>
            
            <!-- Stats -->
            <div class="grid grid-cols-3 gap-3 mb-8">
                <div class="btn-premium rounded-xl p-4 text-center">
                    <div class="text-2xl font-bold gold-gradient" id="windowsCount">8</div>
                    <div class="text-xs text-gray-400">نوافذ</div>
                </div>
                <div class="btn-premium rounded-xl p-4 text-center">
                    <div class="text-2xl font-bold gold-gradient" id="doorsCount">6</div>
                    <div class="text-xs text-gray-400">أبواب</div>
                </div>
                <div class="btn-premium rounded-xl p-4 text-center">
                    <div class="text-2xl font-bold gold-gradient" id="kitchensCount">4</div>
                    <div class="text-xs text-gray-400">مطابخ</div>
                </div>
            </div>
            
            <!-- Filter Section -->
            <div class="sticky top-16 z-40 bg-gradient-to-b from-black via-black/95 to-transparent pb-4 pt-2">
                <div class="flex gap-2 overflow-x-auto pb-2 justify-center flex-wrap">
                    <button onclick="filterProjects(this,'all')" class="filter-btn active px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-border-all"></i>
                        الكل
                        <span class="category-count px-2 py-0.5 rounded-full text-xs" id="allCount">18</span>
                    </button>
                    <button onclick="filterProjects(this,'windows')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-window-maximize"></i>
                        النوافذ
                        <span class="category-count px-2 py-0.5 rounded-full text-xs">8</span>
                    </button>
                    <button onclick="filterProjects(this,'doors')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-door-open"></i>
                        الأبواب
                        <span class="category-count px-2 py-0.5 rounded-full text-xs">6</span>
                    </button>
                    <button onclick="filterProjects(this,'kitchens')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-kitchen-set"></i>
                        المطابخ
                        <span class="category-count px-2 py-0.5 rounded-full text-xs">4</span>
                    </button>
                    <button onclick="filterProjects(this,'curtains')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-theater-masks"></i>
                        الستائر
                        <span class="category-count px-2 py-0.5 rounded-full text-xs" id="curtainsBadge">0</span>
                    </button>
                </div>
            </div>
            
            <!-- Projects Grid -->
                <div id="projectsGrid" class="grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-4">
                    <!-- Projects generated by JavaScript -->
                </div>
            
            <!-- CTA Section -->
            <div class="mt-10 text-center">
                <div class="btn-premium rounded-2xl p-6 gold-border">
                    <h3 class="text-xl font-bold gold-gradient mb-2">أعجبك ما رأيت؟</h3>
                    <p class="text-gray-400 text-sm mb-4">تواصل معنا الآن للحصول على عرض سعر مجاني</p>
                    <div class="flex gap-3 justify-center flex-wrap">
                        <a href="https://wa.me/+212620974552?text=مرحباً، شاهدت أعمالكم وأريد الاستفسار عن مشروع" class="gold-bg px-6 py-3 rounded-xl font-bold text-black flex items-center gap-2">
                            <i class="fab fa-whatsapp text-xl"></i>
                            واتساب
                        </a>
                        <a href="tel:+212620974552" class="btn-premium px-6 py-3 rounded-xl font-semibold text-blue-400 flex items-center gap-2">
                            <i class="fas fa-phone"></i>
                            اتصال
                        </a>
                    </div>
                </div>
            </div>
            
        </div>
    </main>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed inset-0 bg-black/95 lightbox hidden items-center justify-center z-50 p-4">
        <button onclick="closeLightbox()" class="absolute top-4 right-4 text-white/80 hover:text-white text-3xl z-10">
            <i class="fas fa-times"></i>
        </button>
        <button onclick="prevImage()" class="absolute left-4 top-1/2 -translate-y-1/2 text-white/80 hover:text-white text-3xl z-10">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button onclick="nextImage()" class="absolute right-4 top-1/2 -translate-y-1/2 text-white/80 hover:text-white text-3xl z-10">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="max-w-4xl max-h-[80vh] w-full">
            <img id="lightboxImage" src="" alt="" class="w-full h-full object-contain rounded-lg">
            <div class="text-center mt-4">
                <h4 id="lightboxTitle" class="text-lg font-semibold text-white"></h4>
                <p id="lightboxCategory" class="text-sm text-yellow-400"></p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center py-6 border-t border-gray-800">
        <p class="text-gray-600 text-xs">© 2024 شركة الإخوة مومني - جميع الحقوق محفوظة</p>
    </footer>

    <script>
        // Projects data (used to generate the grid)
        const projectsData = [
            { src: 'image/f1.jpg', title: 'نافذة منزلقة', alt: 'نافذة منزلقة', category: 'windows' },
            { src: 'image/f2.jpg', title: 'نوافذ فيلا فاخرة', alt: 'نوافذ فيلا', category: 'windows' },
            { src: 'image/f3.jpg', title: 'نافذة بانورامية', alt: 'نافذة بانورامية', category: 'windows' },
            { src: 'image/f5.jpg', title: 'نوافذ عصرية', alt: 'نوافذ عصرية', category: 'windows' },
            { src: 'image/f6.jpg', title: 'نوافذ غرفة نوم', alt: 'نوافذ غرفة نوم', category: 'windows' },
            { src: 'image/f7.jpg', title: 'نوافذ صالة', alt: 'نوافذ صالة', category: 'windows' },
            { src: 'image/f8.jpg', title: 'نوافذ مكتب', alt: 'نوافذ مكتب', category: 'windows' },

            { src: 'image/Po1.jpg', title: 'باب زجاجي منزلق', alt: 'باب زجاجي', category: 'doors' },
            // { src: 'https://images.unsplash.com/photo-1600566752355-35792bedcfea?w=600&h=600&fit=crop', title: 'باب رئيسي', alt: 'باب رئيسي', category: 'doors' },
            // { src: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=600&h=600&fit=crop&sat=-100', title: 'باب بلكونة', alt: 'باب بلكونة', category: 'doors' },
            // { src: 'https://images.unsplash.com/photo-1600573472550-8090b5e0745e?w=600&h=600&fit=crop&sat=-50', title: 'باب محل تجاري', alt: 'باب محل', category: 'doors' },
            // { src: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=600&h=600&fit=crop&sat=-50', title: 'باب داخلي', alt: 'باب داخلي', category: 'doors' },
            // { src: 'https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=600&h=600&fit=crop&sat=-50', title: 'باب فيلا فاخر', alt: 'باب فيلا', category: 'doors' },

            { src: 'image/C1.jpg', title: 'مطبخ عصري', alt: 'مطبخ عصري', category: 'kitchens' },
            { src: 'image/C2.jpg', title: 'مطبخ فاخر', alt: 'مطبخ فاخر', category: 'kitchens' },
            { src: 'image/C3.jpg', title: 'مطبخ ألمنيوم', alt: 'مطبخ ألمنيوم', category: 'kitchens' },
            { src: 'image/C4.jpg', title: 'مطبخ كبير', alt: 'مطبخ كبير', category: 'kitchens' },

            // Curtains / Rideaux
            { src: 'image/R1.jpg', title: 'ستائر مودرن', alt: 'ستائر مودرن', category: 'curtains' },
            { src: 'image/R2.jpg', title: 'ستائر كلاسيكية', alt: 'ستائر كلاسيكية', category: 'curtains' }
        ];

        function generateProjects() {
            const grid = document.getElementById('projectsGrid');
            grid.innerHTML = '';
            projectsData.forEach((p, i) => {
                const item = document.createElement('div');
                item.className = `portfolio-item ${p.category} rounded-xl overflow-hidden gold-border fade-in`;
                item.setAttribute('onclick', 'openLightbox(this)');
                item.style.animationDelay = `${(i * 0.05).toFixed(2)}s`;

                const label = p.category === 'windows' ? 'نوافذ' : (p.category === 'doors' ? 'أبواب' : (p.category === 'kitchens' ? 'مطابخ' : 'ستائر'));

                item.innerHTML = `
                    <div class="aspect-square bg-gradient-to-br from-gray-800 to-gray-900 relative overflow-hidden cursor-pointer">
                        <img src="${p.src}" alt="${p.alt}" class="w-full h-full object-cover" loading="lazy">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity flex items-end p-3">
                            <div>
                                <span class="text-sm font-semibold text-white">${p.title}</span>
                                <p class="text-xs text-yellow-400">${label}</p>
                            </div>
                        </div>
                        <div class="absolute top-2 right-2 bg-black/60 px-2 py-1 rounded-full">
                            <span class="text-xs text-yellow-400">${label}</span>
                        </div>
                    </div>`;

                grid.appendChild(item);
            });

            // Update counters
            const allCount = projectsData.length;
            const windowsCount = projectsData.filter(p => p.category === 'windows').length;
            const doorsCount = projectsData.filter(p => p.category === 'doors').length;
            const kitchensCount = projectsData.filter(p => p.category === 'kitchens').length;
            const curtainsCount = projectsData.filter(p => p.category === 'curtains').length;

            const elAll = document.getElementById('allCount'); if (elAll) elAll.textContent = allCount;
            const elWindows = document.getElementById('windowsCount'); if (elWindows) elWindows.textContent = windowsCount;
            const elDoors = document.getElementById('doorsCount'); if (elDoors) elDoors.textContent = doorsCount;
            const elKitchens = document.getElementById('kitchensCount'); if (elKitchens) elKitchens.textContent = kitchensCount;
            const elCurtainsBadge = document.getElementById('curtainsBadge'); if (elCurtainsBadge) elCurtainsBadge.textContent = curtainsCount;
        }

        let currentImageIndex = 0;
        let visibleItems = [];

        // Filter Projects
        function filterProjects(btn, category) {
            const items = document.querySelectorAll('.portfolio-item');
            const buttons = document.querySelectorAll('.filter-btn');
            
            buttons.forEach(b => b.classList.remove('active'));
            if (btn && btn.classList) btn.classList.add('active');
            
            let delay = 0;
            items.forEach(item => {
                if (category === 'all' || item.classList.contains(category)) {
                    item.style.display = 'block';
                    item.style.animation = `fadeIn 0.5s ease ${delay}s forwards`;
                    delay += 0.05;
                } else {
                    item.style.display = 'none';
                }
            });
            
            updateVisibleItems();
        }

        // Update visible items array for lightbox navigation
        function updateVisibleItems() {
            visibleItems = Array.from(document.querySelectorAll('.portfolio-item')).filter(
                item => item.style.display !== 'none'
            );
        }

        // Lightbox Functions
        function openLightbox(element) {
            updateVisibleItems();
            currentImageIndex = visibleItems.indexOf(element);
            
            const img = element.querySelector('img');
            const title = element.querySelector('.text-sm.font-semibold')?.textContent || img.alt;
            const category = element.querySelector('.text-xs.text-yellow-400')?.textContent || '';
            
            document.getElementById('lightboxImage').src = img.src.replace('w=600', 'w=1200').replace('h=600', 'h=1200');
            document.getElementById('lightboxTitle').textContent = title;
            document.getElementById('lightboxCategory').textContent = category;
            
            document.getElementById('lightbox').classList.remove('hidden');
            document.getElementById('lightbox').classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.add('hidden');
            document.getElementById('lightbox').classList.remove('flex');
            document.body.style.overflow = 'auto';
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % visibleItems.length;
            updateLightboxImage();
        }

        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + visibleItems.length) % visibleItems.length;
            updateLightboxImage();
        }

        function updateLightboxImage() {
            const element = visibleItems[currentImageIndex];
            const img = element.querySelector('img');
            const title = element.querySelector('.text-sm.font-semibold')?.textContent || img.alt;
            const category = element.querySelector('.text-xs.text-yellow-400')?.textContent || '';
            
            document.getElementById('lightboxImage').src = img.src.replace('w=600', 'w=1200').replace('h=600', 'h=1200');
            document.getElementById('lightboxTitle').textContent = title;
            document.getElementById('lightboxCategory').textContent = category;
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            const lightbox = document.getElementById('lightbox');
            if (!lightbox.classList.contains('hidden')) {
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowRight') prevImage();
                if (e.key === 'ArrowLeft') nextImage();
            }
        });

        // Close lightbox on backdrop click
        document.getElementById('lightbox').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLightbox();
            }
        });

        // Touch swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        document.getElementById('lightbox').addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.getElementById('lightbox').addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > 50) {
                if (diff > 0) {
                    prevImage();
                } else {
                    nextImage();
                }
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            generateProjects();
            updateVisibleItems();
        });
    </script>
</body>
</html>
