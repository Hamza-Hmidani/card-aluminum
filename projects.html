<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>معرض المشاريع | شركة الإخوة مومني</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            font-family: 'Cairo', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0d0d0d 100%);
            min-height: 100vh;
        }
        
        .gold-gradient {
            background: linear-gradient(135deg, #D4AF37 0%, #F4E4A6 25%, #D4AF37 50%, #C5A028 75%, #D4AF37 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gold-border {
            border: 2px solid transparent;
            background: linear-gradient(#1a1a1a, #1a1a1a) padding-box,
                        linear-gradient(135deg, #D4AF37, #F4E4A6, #D4AF37) border-box;
        }
        
        .gold-bg {
            background: linear-gradient(135deg, #D4AF37 0%, #F4E4A6 50%, #D4AF37 100%);
        }
        
        .btn-premium {
            background: linear-gradient(135deg, #1f1f1f 0%, #2a2a2a 100%);
            border: 1px solid rgba(212, 175, 55, 0.3);
            transition: all 0.3s ease;
        }
        
        .btn-premium:hover {
            border-color: rgba(212, 175, 55, 0.8);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.2);
            transform: translateY(-2px);
        }
        
        .portfolio-item {
            transition: all 0.4s ease;
        }
        
        .portfolio-item:hover {
            transform: scale(1.02);
        }
        
        .portfolio-item img {
            transition: all 0.4s ease;
        }
        
        .portfolio-item:hover img {
            transform: scale(1.1);
        }
        
        .filter-btn {
            transition: all 0.3s ease;
        }
        
        .filter-btn.active {
            background: linear-gradient(135deg, #D4AF37 0%, #F4E4A6 50%, #D4AF37 100%);
            color: #000;
        }
        
        .glass-header {
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(20px);
        }
        
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #0a0a0a;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(#D4AF37, #C5A028);
            border-radius: 3px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        .lightbox {
            backdrop-filter: blur(10px);
        }

        .category-count {
            background: rgba(212, 175, 55, 0.2);
            color: #D4AF37;
        }
    </style>
</head>
<body class="text-white">
    <!-- Fixed Header -->
    <header class="fixed top-0 left-0 right-0 z-50 glass-header border-b border-gray-800">
        <div class="max-w-4xl mx-auto px-4 py-3 flex items-center justify-between">
            <!-- Back Button -->
            <a href="index.html" class="flex items-center gap-2 text-gray-400 hover:text-yellow-400 transition-colors">
                <i class="fas fa-arrow-right"></i>
                <span class="text-sm font-semibold">العودة للبطاقة</span>
            </a>
            
            <!-- Logo -->
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 rounded-full gold-border p-0.5">
                    <div class="w-full h-full rounded-full bg-black flex items-center justify-center">
                        <svg class="w-16 h-16" viewBox="0 0 100 100">
                            <image href="image/logo.png" width="100" height="100"/>
                        </svg>
                    </div>
                </div>
                <span class="text-sm font-bold gold-gradient hidden sm:block">الإخوة مومني</span>
            </div>
            
            <!-- Contact Button -->
            <a href="https://wa.me/+212620974552" class="flex items-center gap-2 text-green-400 hover:text-green-300 transition-colors">
                <i class="fab fa-whatsapp text-lg"></i>
                <span class="text-sm font-semibold hidden sm:block">تواصل معنا</span>
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-20 pb-10">
        <div class="max-w-4xl mx-auto px-4">
            
            <!-- Page Title -->
            <div class="text-center mb-8 pt-4">
                <h1 class="text-3xl font-extrabold gold-gradient mb-2">معرض المشاريع</h1>
                <p class="text-gray-400">استعرض جميع أعمالنا المنجزة في الألومنيوم والزجاج</p>
            </div>
            
            <!-- Stats -->
            <div class="grid grid-cols-3 gap-3 mb-8">
                <div class="btn-premium rounded-xl p-4 text-center">
                    <div class="text-2xl font-bold gold-gradient" id="windowsCount">16</div>
                    <div class="text-xs text-gray-400">نوافذ</div>
                </div>
                <div class="btn-premium rounded-xl p-4 text-center">
                    <div class="text-2xl font-bold gold-gradient" id="doorsCount">6</div>
                    <div class="text-xs text-gray-400">أبواب</div>
                </div>
                <div class="btn-premium rounded-xl p-4 text-center">
                    <div class="text-2xl font-bold gold-gradient" id="kitchensCount">4</div>
                    <div class="text-xs text-gray-400">مطابخ</div>
                </div>
            </div>
            
            <!-- Filter Section -->
            <div class="sticky top-16 z-40 bg-gradient-to-b from-black via-black/95 to-transparent pb-4 pt-2">
                <div class="flex gap-2 overflow-x-auto pb-2 justify-center flex-wrap">
                    <button onclick="filterProjects(this,'all')" class="filter-btn active px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-border-all"></i>
                        الكل
                        <span class="category-count px-2 py-0.5 rounded-full text-xs" id="allCount">18</span>
                    </button>
                    <button onclick="filterProjects(this,'windows')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-window-maximize"></i>
                        النوافذ
                        <span class="category-count px-2 py-0.5 rounded-full text-xs">12</span>
                    </button>
                    <button onclick="filterProjects(this,'doors')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-door-open"></i>
                        الأبواب
                        <span class="category-count px-2 py-0.5 rounded-full text-xs">10</span>
                    </button>
                    <button onclick="filterProjects(this,'kitchens')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-kitchen-set"></i>
                        المطابخ
                        <span class="category-count px-2 py-0.5 rounded-full text-xs">51</span>
                    </button>
                    <button onclick="filterProjects(this,'curtains')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-theater-masks"></i>
                        الستائر
                        <span class="category-count px-2 py-0.5 rounded-full text-xs" id="curtainsBadge">0</span>
                    </button>
                    <button onclick="filterProjects(this,'vazcat')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-palette"></i>
                        ڤزكات
                        <span class="category-count px-2 py-0.5 rounded-full text-xs" id="vazcatBadge">0</span>
                    </button>
                    <button onclick="filterProjects(this,'zaj')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-th-large"></i>
                        زاج
                        <span class="category-count px-2 py-0.5 rounded-full text-xs" id="zajBadge">0</span>
                    </button>
                    <button onclick="filterProjects(this,'blacar')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold bg-gray-800 text-gray-300 whitespace-nowrap flex items-center gap-2">
                        <i class="fas fa-car-side"></i>
                        بلاكرات
                        <span class="category-count px-2 py-0.5 rounded-full text-xs" id="blacarBadge">0</span>
                    </button>
                </div>
            </div>
            
            <!-- Projects Grid -->
                <div id="projectsGrid" class="grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-4">
                    <!-- Projects generated by JavaScript -->
                </div>
            
            <!-- CTA Section -->
            <div class="mt-10 text-center">
                <div class="btn-premium rounded-2xl p-6 gold-border">
                    <h3 class="text-xl font-bold gold-gradient mb-2">أعجبك ما رأيت؟</h3>
                    <p class="text-gray-400 text-sm mb-4">تواصل معنا الآن للحصول على عرض سعر مجاني</p>
                    <div class="flex gap-3 justify-center flex-wrap">
                        <a href="https://wa.me/+212620974552?text=مرحباً، شاهدت أعمالكم وأريد الاستفسار عن مشروع" class="gold-bg px-6 py-3 rounded-xl font-bold text-black flex items-center gap-2">
                            <i class="fab fa-whatsapp text-xl"></i>
                            واتساب
                        </a>
                        <a href="tel:+212620974552" class="btn-premium px-6 py-3 rounded-xl font-semibold text-blue-400 flex items-center gap-2">
                            <i class="fas fa-phone"></i>
                            اتصال
                        </a>
                    </div>
                </div>
            </div>
            
        </div>
    </main>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed inset-0 bg-black/95 lightbox hidden items-center justify-center z-50 p-4">
        <button onclick="closeLightbox()" class="absolute top-4 right-4 text-white/80 hover:text-white text-3xl z-10">
            <i class="fas fa-times"></i>
        </button>
        <button onclick="prevImage()" class="absolute left-4 top-1/2 -translate-y-1/2 text-white/80 hover:text-white text-3xl z-10">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button onclick="nextImage()" class="absolute right-4 top-1/2 -translate-y-1/2 text-white/80 hover:text-white text-3xl z-10">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="max-w-4xl max-h-[80vh] w-full">
            <img id="lightboxImage" src="" alt="" class="w-full h-full object-contain rounded-lg">
            <div class="text-center mt-4">
                <h4 id="lightboxTitle" class="text-lg font-semibold text-white"></h4>
                <p id="lightboxCategory" class="text-sm text-yellow-400"></p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center py-6 border-t border-gray-800">
        <p class="text-gray-600 text-xs">© 2024 شركة الإخوة مومني - جميع الحقوق محفوظة</p>
    </footer>

    <script>
        // Projects data (used to generate the grid)
        const projectsData = [
            // windows
            { src: 'image/windows/w1.jpeg', title: 'نافذة منزلقة', alt: 'w1', category: 'windows' },
            { src: 'image/windows/w2.jpeg', title: 'نافذة بانورامية', alt: 'w2', category: 'windows' },
            { src: 'image/windows/w3.jpeg', title: 'نافذة عصرية', alt: 'w3', category: 'windows' },
            { src: 'image/windows/w4.jpeg', title: 'نافذة غرفة نوم', alt: 'w4', category: 'windows' },
            { src: 'image/windows/w5.jpeg', title: 'نافذة صالة', alt: 'w5', category: 'windows' },
            { src: 'image/f1.jpg', title: 'نافذة منزلقة', alt: 'نافذة منزلقة', category: 'windows' },
            { src: 'image/f2.jpg', title: 'نوافذ فيلا فاخرة', alt: 'نوافذ فيلا', category: 'windows' },
            { src: 'image/f3.jpg', title: 'نافذة بانورامية', alt: 'نافذة بانورامية', category: 'windows' },
            { src: 'image/f5.jpg', title: 'نوافذ عصرية', alt: 'نوافذ عصرية', category: 'windows' },
            { src: 'image/f6.jpg', title: 'نوافذ غرفة نوم', alt: 'نوافذ غرفة نوم', category: 'windows' },
            { src: 'image/f7.jpg', title: 'نوافذ صالة', alt: 'نوافذ صالة', category: 'windows' },
            { src: 'image/f8.jpg', title: 'نوافذ مكتب', alt: 'نوافذ مكتب', category: 'windows' },
            
            // zaj
            { src: 'image/zaj/z1.jpeg', title: 'z1', alt: 'z1', category: 'zaj' },
            { src: 'image/zaj/z2.jpg', title: 'z2', alt: 'z2', category: 'zaj' },
            { src: 'image/zaj/z3.jpg', title: 'z3', alt: 'z3', category: 'zaj' },
            { src: 'image/zaj/z4.jpg', title: 'z4', alt: 'z4', category: 'zaj' },

            // vazcat
            { src: 'image/vazcat/v1.jpeg', title: 'v1', alt: 'v1', category: 'vazcat' },
            { src: 'image/vazcat/v2.jpeg', title: 'v2', alt: 'v2', category: 'vazcat' },
            { src: 'image/vazcat/v3.jpeg', title: 'v3', alt: 'v3', category: 'vazcat' },
            { src: 'image/vazcat/v4.jpeg', title: 'v4', alt: 'v4', category: 'vazcat' },
            { src: 'image/vazcat/v5.jpeg', title: 'v5', alt: 'v5', category: 'vazcat' },
            { src: 'image/vazcat/v6.jpeg', title: 'v6', alt: 'v6', category: 'vazcat' },
            { src: 'image/vazcat/v7.jpeg', title: 'v7', alt: 'v7', category: 'vazcat' },
            { src: 'image/vazcat/v8.jpeg', title: 'v8', alt: 'v8', category: 'vazcat' },
            { src: 'image/vazcat/v9.jpeg', title: 'v9', alt: 'v9', category: 'vazcat' },
            { src: 'image/vazcat/v10.jpeg', title: 'v10', alt: 'v10', category: 'vazcat' },

            // kitchens
            { src: 'image/C1.jpg', title: 'مطبخ عصري', alt: 'مطبخ عصري', category: 'kitchens' },
            { src: 'image/C2.jpg', title: 'مطبخ فاخر', alt: 'مطبخ فاخر', category: 'kitchens' },
            { src: 'image/C3.jpg', title: 'مطبخ ألمنيوم', alt: 'مطبخ ألمنيوم', category: 'kitchens' },
            { src: 'image/C4.jpg', title: 'مطبخ كبير', alt: 'مطبخ كبير', category: 'kitchens' },
            { src: 'image/kitchens/co1.jpeg', title: 'co1', alt: 'co1', category: 'kitchens' },
            { src: 'image/kitchens/co2.jpeg', title: 'co2', alt: 'co2', category: 'kitchens' },
            { src: 'image/kitchens/co3.jpeg', title: 'co3', alt: 'co3', category: 'kitchens' },
            { src: 'image/kitchens/co4.jpeg', title: 'co4', alt: 'co4', category: 'kitchens' },
            { src: 'image/kitchens/co5.jpeg', title: 'co5', alt: 'co5', category: 'kitchens' },
            { src: 'image/kitchens/co6.jpeg', title: 'co6', alt: 'co6', category: 'kitchens' },
            { src: 'image/kitchens/co7.jpeg', title: 'co7', alt: 'co7', category: 'kitchens' },
            { src: 'image/kitchens/co8.jpeg', title: 'co8', alt: 'co8', category: 'kitchens' },
            { src: 'image/kitchens/co9.jpeg', title: 'co9', alt: 'co9', category: 'kitchens' },
            { src: 'image/kitchens/co10.jpeg', title: 'co10', alt: 'co10', category: 'kitchens' },
            { src: 'image/kitchens/co11.jpeg', title: 'co11', alt: 'co11', category: 'kitchens' },
            { src: 'image/kitchens/co12.jpeg', title: 'co12', alt: 'co12', category: 'kitchens' },
            { src: 'image/kitchens/co13.jpeg', title: 'co13', alt: 'co13', category: 'kitchens' },
            { src: 'image/kitchens/co14.jpeg', title: 'co14', alt: 'co14', category: 'kitchens' },
            { src: 'image/kitchens/co15.jpeg', title: 'co15', alt: 'co15', category: 'kitchens' },
            { src: 'image/kitchens/co16.jpeg', title: 'co16', alt: 'co16', category: 'kitchens' },
            { src: 'image/kitchens/co17.jpeg', title: 'co17', alt: 'co17', category: 'kitchens' },
            { src: 'image/kitchens/co18.jpeg', title: 'co18', alt: 'co18', category: 'kitchens' },
            { src: 'image/kitchens/co19.jpeg', title: 'co19', alt: 'co19', category: 'kitchens' },
            { src: 'image/kitchens/co20.jpeg', title: 'co20', alt: 'co20', category: 'kitchens' },
            { src: 'image/kitchens/co21.jpeg', title: 'co21', alt: 'co21', category: 'kitchens' },
            { src: 'image/kitchens/co22.jpeg', title: 'co22', alt: 'co22', category: 'kitchens' },
            { src: 'image/kitchens/co23.jpeg', title: 'co23', alt: 'co23', category: 'kitchens' },
            { src: 'image/kitchens/co24.jpeg', title: 'co24', alt: 'co24', category: 'kitchens' },
            { src: 'image/kitchens/co25.jpeg', title: 'co25', alt: 'co25', category: 'kitchens' },
            { src: 'image/kitchens/co26.jpeg', title: 'co26', alt: 'co26', category: 'kitchens' },
            { src: 'image/kitchens/co27.jpeg', title: 'co27', alt: 'co27', category: 'kitchens' },
            { src: 'image/kitchens/co28.jpeg', title: 'co28', alt: 'co28', category: 'kitchens' },
            { src: 'image/kitchens/co29.jpeg', title: 'co29', alt: 'co29', category: 'kitchens' },
            { src: 'image/kitchens/co30.jpeg', title: 'co30', alt: 'co30', category: 'kitchens' },
            { src: 'image/kitchens/co31.jpeg', title: 'co31', alt: 'co31', category: 'kitchens' },
            { src: 'image/kitchens/co32.jpeg', title: 'co32', alt: 'co32', category: 'kitchens' },
            { src: 'image/kitchens/co33.jpeg', title: 'co33', alt: 'co33', category: 'kitchens' },
            { src: 'image/kitchens/co34.png.jpeg', title: 'co34', alt: 'co34', category: 'kitchens' },
            { src: 'image/kitchens/co35.png.jpeg', title: 'co35', alt: 'co35', category: 'kitchens' },
            { src: 'image/kitchens/co36.png.jpeg', title: 'co36', alt: 'co36', category: 'kitchens' },
            { src: 'image/kitchens/co37.png.jpeg', title: 'co37', alt: 'co37', category: 'kitchens' },
            { src: 'image/kitchens/co38.png.jpeg', title: 'co38', alt: 'co38', category: 'kitchens' },
            { src: 'image/kitchens/co39.jpeg', title: 'co39', alt: 'co39', category: 'kitchens' },
            { src: 'image/kitchens/co40.jpeg', title: 'co40', alt: 'co40', category: 'kitchens' },
            { src: 'image/kitchens/co41.jpeg', title: 'co41', alt: 'co41', category: 'kitchens' },
            { src: 'image/kitchens/co42.jpeg', title: 'co42', alt: 'co42', category: 'kitchens' },
            { src: 'image/kitchens/co43.jpeg', title: 'co43', alt: 'co43', category: 'kitchens' },
            { src: 'image/kitchens/co44.jpeg', title: 'co44', alt: 'co44', category: 'kitchens' },
            { src: 'image/kitchens/co49.jpeg', title: 'co49', alt: 'co49', category: 'kitchens' },
            { src: 'image/kitchens/co53.jpeg', title: 'co53', alt: 'co53', category: 'kitchens' },
            { src: 'image/kitchens/co54.jpeg', title: 'co54', alt: 'co54', category: 'kitchens' },

            // doors (pa)
            { src: 'image/doors/pa1.jpeg', title: 'pa1', alt: 'pa1', category: 'doors' },
            { src: 'image/doors/pa2.jpeg', title: 'pa2', alt: 'pa2', category: 'doors' },
            { src: 'image/doors/pa3.jpeg', title: 'pa3', alt: 'pa3', category: 'doors' },
            { src: 'image/doors/pa4.jpeg', title: 'pa4', alt: 'pa4', category: 'doors' },
            { src: 'image/doors/pa5.jpeg', title: 'pa5', alt: 'pa5', category: 'doors' },
            { src: 'image/doors/pa6.jpeg', title: 'pa6', alt: 'pa6', category: 'doors' },
            { src: 'image/doors/pa7.jpeg', title: 'pa7', alt: 'pa7', category: 'doors' },
            { src: 'image/doors/pa8.jpeg', title: 'pa8', alt: 'pa8', category: 'doors' },
            { src: 'image/doors/pa9.jpeg', title: 'pa9', alt: 'pa9', category: 'doors' },
            { src: 'image/doors/pa10.jpeg', title: 'pa10', alt: 'pa10', category: 'doors' },

            // curtains
            { src: 'image/R1.jpg', title: 'ستائر مودرن', alt: 'ستائر مودرن', category: 'curtains' },
            { src: 'image/R2.jpg', title: 'ستائر كلاسيكية', alt: 'ستائر كلاسيكية', category: 'curtains' },
            { src: 'image/curtains/r1.jpeg', title: 'r1', alt: 'r1', category: 'curtains' },
            { src: 'image/curtains/r2.jpeg', title: 'r2', alt: 'r2', category: 'curtains' },
            { src: 'image/curtains/r3.jpeg', title: 'r3', alt: 'r3', category: 'curtains' },
            { src: 'image/curtains/r4.jpeg', title: 'r4', alt: 'r4', category: 'curtains' },

            // blacar
            { src: 'image/blacar/pl1.jpeg', title: 'pl1', alt: 'pl1', category: 'blacar' },
            { src: 'image/blacar/pl2.jpeg', title: 'pl2', alt: 'pl2', category: 'blacar' },
            { src: 'image/blacar/pl3.jpeg', title: 'pl3', alt: 'pl3', category: 'blacar' },
            { src: 'image/blacar/pl4.jpeg', title: 'pl4', alt: 'pl4', category: 'blacar' },
            { src: 'image/blacar/pl5.jpeg', title: 'pl5', alt: 'pl5', category: 'blacar' },
            { src: 'image/blacar/pl6.jpeg', title: 'pl6', alt: 'pl6', category: 'blacar' },
            { src: 'image/blacar/pl7.jpeg', title: 'pl7', alt: 'pl7', category: 'blacar' },
            { src: 'image/blacar/pl8.jpeg', title: 'pl8', alt: 'pl8', category: 'blacar' },
            { src: 'image/blacar/pl9.jpeg', title: 'pl9', alt: 'pl9', category: 'blacar' },
            { src: 'image/blacar/pl10.jpeg', title: 'pl10', alt: 'pl10', category: 'blacar' },
            { src: 'image/blacar/pl11.jpeg', title: 'pl11', alt: 'pl11', category: 'blacar' },
            { src: 'image/blacar/pl12.jpeg', title: 'pl12', alt: 'pl12', category: 'blacar' },
            { src: 'image/blacar/pl13.jpeg', title: 'pl13', alt: 'pl13', category: 'blacar' },
            { src: 'image/blacar/pl14.jpeg', title: 'pl14', alt: 'pl14', category: 'blacar' },
            { src: 'image/blacar/pl15.jpeg', title: 'pl15', alt: 'pl15', category: 'blacar' }
        ];

        function generateProjects() {
            const grid = document.getElementById('projectsGrid');
            grid.innerHTML = '';
            projectsData.forEach((p, i) => {
                const item = document.createElement('div');
                item.className = `portfolio-item ${p.category} rounded-xl overflow-hidden gold-border fade-in`;
                item.setAttribute('onclick', 'openLightbox(this)');
                item.style.animationDelay = `${(i * 0.05).toFixed(2)}s`;

                const labels = { windows: 'نوافذ', doors: 'أبواب', kitchens: 'مطابخ', curtains: 'ستائر', vazcat: 'ڤزكات', zaj: 'زاج', blacar: 'بلاكرات' };
                const label = labels[p.category] || p.category;

                item.innerHTML = `
                    <div class="aspect-square bg-gradient-to-br from-gray-800 to-gray-900 relative overflow-hidden cursor-pointer">
                        <img src="${p.src}" alt="${p.alt}" class="w-full h-full object-cover" loading="lazy">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity flex items-end p-3">
                            <div>
                                <span class="text-sm font-semibold text-white">${p.title}</span>
                                <p class="text-xs text-yellow-400">${label}</p>
                            </div>
                        </div>
                        <div class="absolute top-2 right-2 bg-black/60 px-2 py-1 rounded-full">
                            <span class="text-xs text-yellow-400">${label}</span>
                        </div>
                    </div>`;

                grid.appendChild(item);
            });

            // Update counters
            const allCount = projectsData.length;
            const windowsCount = projectsData.filter(p => p.category === 'windows').length;
            const doorsCount = projectsData.filter(p => p.category === 'doors').length;
            const kitchensCount = projectsData.filter(p => p.category === 'kitchens').length;
            const curtainsCount = projectsData.filter(p => p.category === 'curtains').length;
            const vazcatCount = projectsData.filter(p => p.category === 'vazcat').length;
            const zajCount = projectsData.filter(p => p.category === 'zaj').length;
            const blacarCount = projectsData.filter(p => p.category === 'blacar').length;

            const elAll = document.getElementById('allCount'); if (elAll) elAll.textContent = allCount;
            const elWindows = document.getElementById('windowsCount'); if (elWindows) elWindows.textContent = windowsCount;
            const elDoors = document.getElementById('doorsCount'); if (elDoors) elDoors.textContent = doorsCount;
            const elKitchens = document.getElementById('kitchensCount'); if (elKitchens) elKitchens.textContent = kitchensCount;
            const elCurtainsBadge = document.getElementById('curtainsBadge'); if (elCurtainsBadge) elCurtainsBadge.textContent = curtainsCount;
            const elVazcatBadge = document.getElementById('vazcatBadge'); if (elVazcatBadge) elVazcatBadge.textContent = vazcatCount;
            const elZajBadge = document.getElementById('zajBadge'); if (elZajBadge) elZajBadge.textContent = zajCount;
            const elBlacarBadge = document.getElementById('blacarBadge'); if (elBlacarBadge) elBlacarBadge.textContent = blacarCount;
        }

        let currentImageIndex = 0;
        let visibleItems = [];

        // Filter Projects
        function filterProjects(btn, category) {
            const items = document.querySelectorAll('.portfolio-item');
            const buttons = document.querySelectorAll('.filter-btn');
            
            buttons.forEach(b => b.classList.remove('active'));
            if (btn && btn.classList) btn.classList.add('active');
            
            let delay = 0;
            items.forEach(item => {
                if (category === 'all' || item.classList.contains(category)) {
                    item.style.display = 'block';
                    item.style.animation = `fadeIn 0.5s ease ${delay}s forwards`;
                    delay += 0.05;
                } else {
                    item.style.display = 'none';
                }
            });
            
            updateVisibleItems();
        }

        // Update visible items array for lightbox navigation
        function updateVisibleItems() {
            visibleItems = Array.from(document.querySelectorAll('.portfolio-item')).filter(
                item => item.style.display !== 'none'
            );
        }

        // Lightbox Functions
        function openLightbox(element) {
            updateVisibleItems();
            currentImageIndex = visibleItems.indexOf(element);
            
            const img = element.querySelector('img');
            const title = element.querySelector('.text-sm.font-semibold')?.textContent || img.alt;
            const category = element.querySelector('.text-xs.text-yellow-400')?.textContent || '';
            
            document.getElementById('lightboxImage').src = img.src.replace('w=600', 'w=1200').replace('h=600', 'h=1200');
            document.getElementById('lightboxTitle').textContent = title;
            document.getElementById('lightboxCategory').textContent = category;
            
            document.getElementById('lightbox').classList.remove('hidden');
            document.getElementById('lightbox').classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.add('hidden');
            document.getElementById('lightbox').classList.remove('flex');
            document.body.style.overflow = 'auto';
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % visibleItems.length;
            updateLightboxImage();
        }

        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + visibleItems.length) % visibleItems.length;
            updateLightboxImage();
        }

        function updateLightboxImage() {
            const element = visibleItems[currentImageIndex];
            const img = element.querySelector('img');
            const title = element.querySelector('.text-sm.font-semibold')?.textContent || img.alt;
            const category = element.querySelector('.text-xs.text-yellow-400')?.textContent || '';
            
            document.getElementById('lightboxImage').src = img.src.replace('w=600', 'w=1200').replace('h=600', 'h=1200');
            document.getElementById('lightboxTitle').textContent = title;
            document.getElementById('lightboxCategory').textContent = category;
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            const lightbox = document.getElementById('lightbox');
            if (!lightbox.classList.contains('hidden')) {
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowRight') prevImage();
                if (e.key === 'ArrowLeft') nextImage();
            }
        });

        // Close lightbox on backdrop click
        document.getElementById('lightbox').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLightbox();
            }
        });

        // Touch swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        document.getElementById('lightbox').addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.getElementById('lightbox').addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > 50) {
                if (diff > 0) {
                    prevImage();
                } else {
                    nextImage();
                }
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            generateProjects();
            updateVisibleItems();
        });
    </script>
</body>
</html>
